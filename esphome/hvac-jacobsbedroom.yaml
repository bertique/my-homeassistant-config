substitutions:
  node_name: "hvac-jacobsbedroom"
  friendly_name: "AC Jacobs Bedroom"
  my_ssid: !secret wifi_ssid
  my_password: !secret  wifi_password

packages:
  hvac_remote: github://bertique/esphome-mitsubishi-hvac-base/hvac_base.yaml@main

sensor:
- platform: homeassistant
  name: "Remote Temperature Sensor"
  entity_id: sensor.h5075_e054_temperature
  internal: false
  disabled_by_default: true
  device_class: temperature
  state_class: measurement
  unit_of_measurement: "Â°C"
  filters:
    # Uncomment the lambda line to convert F to C on incoming temperature
    - lambda: return (x - 32) * (5.0/9.0);
    - clamp: # Limits values to range accepted by Mitsubishi units
        min_value: 13
        max_value: 33
        ignore_out_of_range: true
    - throttle: 300s
  on_value:
    then:
      - logger.log:
          level: INFO
          format: "Remote temperature received from HA: %.1f C"
          args: ["x"]
      - lambda: "id(hp).set_remote_temperature(x);"